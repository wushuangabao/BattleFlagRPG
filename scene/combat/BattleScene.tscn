[gd_scene load_steps=4 format=3 uid="uid://skvo00upkv2p"]

[ext_resource type="Script" uid="uid://cqv7uqecu6ns1" path="res://scene/combat/battle_scene.gd" id="1_1h8kx"]
[ext_resource type="TileSet" uid="uid://dycc0vdai3viu" path="res://asset/tres/battle.tres" id="2_wponv"]

[sub_resource type="PlaneMesh" id="PlaneMesh_wponv"]

[node name="BattleScene" type="Node3D"]
script = ExtResource("1_1h8kx")
board_plane_path = NodePath("plane")
camera_path = NodePath("camera")
subviewport_path = NodePath("SubViewport")
tilemap_root2d_path = NodePath("SubViewport/CanvasLayer/TilemapRoot2D")
ground_layer_path = NodePath("SubViewport/CanvasLayer/TilemapRoot2D/Ground")
overlay_layer_path = NodePath("SubViewport/CanvasLayer/TilemapRoot2D/Overlay")

[node name="camera" type="Camera3D" parent="."]

[node name="light" type="DirectionalLight3D" parent="."]

[node name="plane" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_wponv")

[node name="unit" type="Marker3D" parent="."]

[node name="SubViewport" type="SubViewport" parent="."]
size = Vector2i(1280, 720)

[node name="CanvasLayer" type="CanvasLayer" parent="SubViewport"]

[node name="TilemapRoot2D" type="Node2D" parent="SubViewport/CanvasLayer"]

[node name="Ground" type="TileMapLayer" parent="SubViewport/CanvasLayer/TilemapRoot2D"]
tile_set = ExtResource("2_wponv")

[node name="Overlay" type="TileMapLayer" parent="SubViewport/CanvasLayer/TilemapRoot2D"]
tile_set = ExtResource("2_wponv")
